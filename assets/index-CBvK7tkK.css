*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}:root{--bg-primary: #0a0a0f;--bg-overlay: rgba(10, 10, 15, .6);--bg-glass: rgba(20, 20, 30, .4);--text-primary: #e0e0e8;--text-secondary: #aaaaaa;--accent: #8bac0f;--danger: #e05a46;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--radius-sm: 8px;--radius-md: 16px;--radius-full: 9999px;--font-pixel: "Press Start 2P", monospace;--font-body: "DotGothic16", monospace;--sat: env(safe-area-inset-top, 0px);--sab: env(safe-area-inset-bottom, 0px)}html,body{height:100%;overflow:hidden;background:var(--bg-primary);color:var(--text-primary);font-family:var(--font-body);user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}#app{position:relative;width:100%;height:100%;overflow:hidden}#camera-video{display:none}#viewfinder-wrap{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;background:#000;display:flex;align-items:center;justify-content:center}#viewfinder{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}#top-bar{position:absolute;top:0;left:0;right:0;z-index:20;padding:calc(var(--sat) + var(--space-sm)) var(--space-md) var(--space-sm);display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to bottom,#0009,#0000);pointer-events:none}#top-bar>*{pointer-events:auto}.logo{font-family:var(--font-pixel);font-size:12px;color:var(--accent);text-shadow:0 0 4px rgba(0,0,0,.8)}.top-bar-actions{display:flex;gap:var(--space-sm)}#btn-aspect{width:auto;padding:0 var(--space-sm);font-family:var(--font-pixel);font-size:10px;color:var(--accent)}#controls{position:absolute;bottom:0;left:0;right:0;z-index:20;padding:var(--space-md) var(--space-md) calc(var(--sab) + var(--space-md));display:flex;flex-direction:column;gap:var(--space-md);background:linear-gradient(to top,#000c,#0000)}.icon-btn{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:var(--bg-glass);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-full);color:var(--text-primary);cursor:pointer;transition:transform .1s,background .2s}.icon-btn:active{transform:scale(.92);background:#fff3}.icon-btn.danger{color:var(--danger);border-color:#e05a464d}.badge{position:absolute;top:-2px;right:-2px;background:var(--accent);color:#000;font-family:var(--font-pixel);font-size:8px;padding:2px 4px;border-radius:8px;min-width:16px;text-align:center}#palette-bar{display:flex;justify-content:center;gap:var(--space-sm);overflow-x:auto;padding-bottom:4px}.palette-chip{width:44px;height:44px;border-radius:10px;border:2px solid rgba(255,255,255,.2);padding:2px;background:transparent;flex-shrink:0;transition:transform .15s,border-color .2s}.palette-chip.active{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 4px 12px #00000080}.palette-chip.palette-add{border-style:dashed;display:flex;align-items:center;justify-content:center}.chip-swatch{display:block;width:100%;height:100%;border-radius:6px}.chip-add{font-family:var(--font-pixel);font-size:16px;color:var(--text-secondary);text-align:center;line-height:36px}#adjustments{display:none;background:var(--bg-glass);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:var(--radius-md);padding:var(--space-md);margin-bottom:var(--space-sm);border:1px solid rgba(255,255,255,.1)}#adjustments.open{display:flex;flex-direction:column;gap:var(--space-md)}.slider-group{display:flex;align-items:center;gap:var(--space-md)}.slider-group label{font-family:var(--font-pixel);font-size:8px;width:70px;color:var(--text-secondary)}.slider-group input[type=range]{flex:1;-webkit-appearance:none;background:#ffffff1a;height:8px;border-radius:4px;outline:none}.slider-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;background:var(--accent);border-radius:50%;box-shadow:0 2px 6px #00000080;cursor:grab}#action-bar{display:flex;justify-content:space-evenly;align-items:center;width:100%}.action-btn{width:48px;height:48px;border-radius:50%;background:var(--bg-glass);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);display:flex;justify-content:center;align-items:center;transition:transform .1s;position:relative}.action-btn:active{transform:scale(.9);background:#fff3}.shutter-btn{width:72px;height:72px;border-radius:50%;background:transparent;border:4px solid var(--accent);position:relative;display:flex;justify-content:center;align-items:center;box-shadow:0 0 20px #8bac0f4d;transition:transform .1s}.shutter-btn:active{transform:scale(.95)}.shutter-ring{width:56px;height:56px;background:var(--accent);border-radius:50%;transition:background .2s}.shutter-btn:active .shutter-ring{background:#fff}.timer-badge{position:absolute;top:-4px;right:-4px;background:var(--text-primary);color:#000;font-family:var(--font-pixel);font-size:8px;width:16px;height:16px;line-height:16px;text-align:center;border-radius:50%}#countdown-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:50;display:flex;align-items:center;justify-content:center;background:#0000004d;pointer-events:none}#countdown-number{font-family:var(--font-pixel);font-size:120px;color:#fff;text-shadow:0 4px 20px rgba(0,0,0,.5);animation:pulse 1s infinite}@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}to{transform:scale(1);opacity:1}}.modal{position:absolute;top:0;right:0;bottom:0;left:0;z-index:100;background:#000000d9;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;padding:var(--space-lg)}.modal-content{background:var(--bg-primary);width:100%;max-width:320px;border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.1);padding:var(--space-lg);display:flex;flex-direction:column;gap:var(--space-lg)}.modal-header{display:flex;justify-content:space-between;align-items:center}.modal-title{font-family:var(--font-pixel);font-size:10px;color:var(--accent)}.modal-close{width:32px;height:32px;font-size:20px;background:none;border:none;color:var(--text-secondary);cursor:pointer}#color-pickers{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-md)}.color-pick{display:flex;flex-direction:column;gap:var(--space-xs)}.color-pick label{font-family:var(--font-pixel);font-size:8px;color:var(--text-secondary)}input[type=color]{border:none;width:100%;height:40px;border-radius:var(--radius-sm);cursor:pointer;background:none}input[type=color]::-webkit-color-swatch{border:1px solid rgba(255,255,255,.2);border-radius:var(--radius-sm)}.btn-primary{background:var(--accent);color:#000;font-family:var(--font-pixel);font-size:10px;border:none;padding:var(--space-md);border-radius:var(--radius-sm);cursor:pointer;transition:opacity .2s}.btn-primary:active{opacity:.8}.hidden{display:none!important}.panel{position:absolute;top:0;right:0;bottom:0;left:0;z-index:60;background:var(--bg-primary);display:flex;flex-direction:column;transform:translateY(100%);transition:transform .3s cubic-bezier(.16,1,.3,1)}.panel:not(.hidden){transform:translateY(0)}#gallery-header,#detail-header{padding:calc(var(--sat) + var(--space-md)) var(--space-md) var(--space-md);display:flex;align-items:center;gap:var(--space-md);background:var(--bg-primary);border-bottom:1px solid rgba(255,255,255,.1)}.panel-title{font-family:var(--font-pixel);font-size:12px;flex:1}#gallery-grid{flex:1;overflow-y:auto;padding:var(--space-md);display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-sm);padding-bottom:calc(var(--sab) + var(--space-lg))}.gallery-thumb{aspect-ratio:1;border-radius:var(--radius-sm);overflow:hidden;background:#222}.gallery-thumb img{width:100%;height:100%;object-fit:cover;image-rendering:pixelated}#detail-image-wrap{flex:1;background:#000;display:flex;align-items:center;justify-content:center;padding:var(--space-md)}#detail-canvas{max-width:100%;max-height:100%;image-rendering:pixelated;box-shadow:0 0 20px #00000080}.empty-state{grid-column:1 / -1;text-align:center;margin-top:20%;opacity:.5}.empty-state-icon{font-size:48px;margin-bottom:var(--space-sm)}.empty-state-text{font-family:var(--font-pixel);font-size:10px;line-height:1.6}#flash-overlay{background:#fff;opacity:0;pointer-events:none;position:absolute;top:0;right:0;bottom:0;left:0;z-index:999}#flash-overlay.flash{opacity:1;transition:opacity .5s ease-out}.frames-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-md);max-height:400px;overflow-y:auto}.frame-thumb{aspect-ratio:1;background:#222;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);display:flex;align-items:center;justify-content:center;cursor:pointer}.frame-thumb.active{border-color:var(--accent);box-shadow:0 0 10px #8bac0f66}.frame-thumb-inner{font-family:var(--font-pixel);font-size:8px;color:var(--text-secondary);text-align:center}#video-preview-wrap{background:#000;display:flex;align-items:center;justify-content:center;padding:var(--space-md);border-radius:var(--radius-sm)}#review-video{max-width:100%;max-height:300px;border-radius:var(--radius-sm);outline:none}.modal-actions{display:flex;justify-content:space-between;gap:var(--space-md)}.btn-secondary{background:transparent;color:var(--text-secondary);font-family:var(--font-pixel);font-size:10px;border:1px solid rgba(255,255,255,.2);padding:var(--space-md);border-radius:var(--radius-sm);cursor:pointer}
